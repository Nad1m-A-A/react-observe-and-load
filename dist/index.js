"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function t(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var n=r(e);function a(r,n){const[a,o]=e.useState(null),[l,i]=e.useState(null),[s,u]=e.useState(!1);return e.useEffect((()=>{if(!n||!Array.isArray(r)||0===r.length)return o(null),void i(null);let e=!0;return(async()=>{u(!0),i(null);try{const n=await Promise.all(r.map((async e=>{try{const n=await(r=e,Promise.resolve().then((function(){return t(require(r))})));return n.default||n}catch(r){throw new Error(`Failed to load: ${e}`)}var r})));if(!e)return;const a=n.reduce(((e,r)=>{const t=function(e){const r=Object.entries(e).filter((([e,r])=>Array.isArray(r))).reduce(((e,[r,t])=>(e[r]=t,e)),{});return Object.keys(r).length>0?r:e}(r);return{...e,...t}}),{});o(a)}catch(r){e&&(i(r.message||"Failed to load data"),o(null))}finally{e&&u(!1)}})(),()=>{e=!1}}),[r,n]),{data:a,error:l,loading:s}}function o({rootMargin:r="0px",threshold:t=0,triggerOnce:n=!0,root:a=null}={}){const[o,l]=e.useState(!1),i=e.useRef(null);return e.useEffect((()=>{let e=!0;const o=new IntersectionObserver((([r])=>{e&&(r.isIntersecting?(l(!0),n&&o.disconnect()):n||l(!1))}),{root:a,rootMargin:r,threshold:t}),s=i.current;return s&&o.observe(s),()=>{e=!1,s&&o.unobserve(s),o.disconnect()}}),[r,t,n,a]),{ref:i,inView:o}}exports.useElementObserver=o,exports.useLazyLoadData=a,exports.withViewObserver=function(e,{animate:r=!1,afterWrapperIsVisibleClass:t="visible_wrapper",initialWrapperClass:l=(r?"invisible_wrapper":""),rootMargin:i="0px",threshold:s=0,root:u=null,triggerOnce:c=!0,lazyLoad:f=!1,files:d=[]}={}){return function(g){const{ref:p,inView:y}=o({rootMargin:i,threshold:s,root:u,triggerOnce:c}),{data:b,error:h,loading:v}=f?a(d,y):{data:null,error:null,loading:!1},O=r&&y?g.special_animation||t:l,w=f?{...g,content:b,error:h,loading:v}:g;return n.default.createElement("div",{ref:p,className:O,style:g.style},n.default.createElement(e,w))}};
